<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Evo</title>

<style>
/* BODY (device background, NOT green) */
body{
    margin:0;
    background:#0b0f1a;
    font-family: "Courier New", monospace;
    color:#ccc;
    text-align:center;
}

/* DEVICE SHELL */
.device{
    width:360px;
    margin:40px auto;
    padding:20px;
    background:#d6d6d6;
    border-radius:25px;
    box-shadow:
        inset -4px -4px 10px rgba(0,0,0,0.3),
        inset 4px 4px 10px rgba(255,255,255,0.8);
}

/* GREEN SCREEN ONLY */
.screen{
    background:#9bbc0f;
    color:#0f380f;
    padding:10px;
    border-radius:10px;
    border:6px solid #222;
}

/* CANVAS */
canvas{
    background:#8bac0f;
    display:block;
    margin:auto;
}

/* TEXT */
.title{
    font-weight:bold;
    margin-bottom:5px;
}

.info{
    display:flex;
    justify-content:space-between;
    font-size:12px;
    margin-top:5px;
}

/* BUTTON AREA */
.controls{
    margin-top:15px;
}

/* D PAD */
.dpad{
    display:grid;
    grid-template-columns:60px 60px 60px;
    grid-template-rows:60px 60px 60px;
    gap:8px;
    justify-content:center;
    margin-top:10px;
}

.btn{
    background:#444;
    border:none;
    color:white;
    font-size:22px;
    border-radius:8px;
}

.btn:active{
    background:#777;
}

/* BOOST CENTER BUTTON */
.boost{
    background:#2196f3;
    color:white;
    border:none;
    padding:8px 20px;
    margin-top:10px;
    border-radius:6px;
}
</style>
</head>

<body>

<div class="device">

    <div class="screen">

        <div class="title">SNAKE EVO</div>

        <canvas id="game" width="300" height="300"></canvas>

        <div class="info">
            <span>LV <span id="level">1</span></span>
            <span>SCORE <span id="score">0</span></span>
        </div>

    </div>

    <div class="controls">
        <button onclick="startGame()">START</button>
        <button onclick="pauseGame()">PAUSE</button>

        <br>

        <button class="boost" onclick="boost()">BOOST</button>

        <div class="dpad">
            <div></div>
            <button class="btn" onclick="setDir('up')">▲</button>
            <div></div>

            <button class="btn" onclick="setDir('left')">◄</button>
            <div></div>
            <button class="btn" onclick="setDir('right')">►</button>

            <div></div>
            <button class="btn" onclick="setDir('down')">▼</button>
            <div></div>
        </div>
    </div>

</div>

<script>
let canvas=document.getElementById("game");
let ctx=canvas.getContext("2d");

let grid=15;

let snake=[{x:10,y:10}];
let food={x:5,y:5};

let dx=0;
let dy=0;

let score=0;
let level=1;

let speed=300;
let running=false;
let timer;

function draw(){

    ctx.fillStyle="#8bac0f";
    ctx.fillRect(0,0,canvas.width,canvas.height);

    ctx.fillStyle="#0f380f";
    snake.forEach(s=>{
        ctx.fillRect(s.x*grid,s.y*grid,grid-2,grid-2);
    });

    ctx.fillStyle="#306230";
    ctx.fillRect(food.x*grid,food.y*grid,grid-2,grid-2);
}

function update(){

    if(!running)return;

    let head={
        x:snake[0].x+dx,
        y:snake[0].y+dy
    };

    if(head.x<0||head.y<0||head.x>=20||head.y>=20){
        gameOver();
        return;
    }

    snake.unshift(head);

    if(head.x===food.x && head.y===food.y){

        score+=10;

        if(score%50===0){
            level++;
            speed-=20;
        }

        food={
            x:Math.floor(Math.random()*20),
            y:Math.floor(Math.random()*20)
        };

        document.getElementById("score").innerText=score;
        document.getElementById("level").innerText=level;

    }else{
        snake.pop();
    }

    draw();
}

function loop(){
    update();
    timer=setTimeout(loop,speed);
}

function startGame(){
    if(!running){
        running=true;
        loop();
    }
}

function pauseGame(){
    running=false;
}

function gameOver(){
    running=false;
    alert("Game Over");
}

function setDir(dir){

    if(dir==="up"){dx=0;dy=-1;}
    if(dir==="down"){dx=0;dy=1;}
    if(dir==="left"){dx=-1;dy=0;}
    if(dir==="right"){dx=1;dy=0;}
}

function boost(){
    speed=50;
    setTimeout(()=>{
        speed=200;
    },1000);
}

draw();
</script>

</body>
</html>
